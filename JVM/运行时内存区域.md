
![](https://raw.githubusercontent.com/409582940/notes/main/images/20220321143240.png)

# 程序计数器（pc寄存器）
程序计数器是一块较小的内存空间，可以被看做当前线程执行的字节码行号指示器。
jvm通过改变这个值来选取下一条要执行的字节码指令
为了多线程情况下能正确恢复线程的执行位置，程序计数器是线程私有的
执行java方法，记录正在执行虚拟机字节码指令地址
执行native方法，记录为空
这是唯一一个没有任何OOM的情景
# 虚拟机栈
栈是运行时单位，堆是存储单位
虚拟机栈也是线程私有的，他的生命周期和线程相同。
每当有方法被执行的之后，jvm都会同步创建一个栈帧，用于存储局部变量表，操作树栈，动态链接，方法出口等信息。
每一个方法被调用到执行完毕，对应的是一个栈帧从入栈到出栈的过程
## 局部变量表
局部变量表存放这编译期间的基本数据类型（八种）、对象引用和returnAddress类型
对象引用：reference类型，它并不等同于对象本身，可能是一个指向对象起始地址的引用指针，也可能是指向一个代表对象的句柄或者其他与此对象相关的位置
**局部变量槽**：局部变量表
## 操作树栈
## 动态链接
## 方法出口
# 本地方法栈
# 堆(有垃圾回收)
存储对象
# 方法区(有垃圾回收)
# 运行时常量池
# 直接内存